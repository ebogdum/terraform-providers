variable "region" {
  description = "Region where this resource will be managed. Defaults to the Region set in the provider configuration."
  type        = string
  default     = null
}

variable "name" {
  description = "The name of the DB event subscription. By default generated by Terraform."
  type        = string
  default     = null
}

variable "name_prefix" {
  description = "The name of the DB event subscription. Conflicts with name."
  type        = string
  default     = null
}

variable "sns_topic" {
  description = "The SNS topic to send events to."
  type        = string

  validation {
    condition     = length(var.sns_topic) > 0
    error_message = "resource_aws_db_event_subscription, sns_topic must be specified and cannot be empty."
  }
}

variable "source_ids" {
  description = "A list of identifiers of the event sources for which events will be returned. If not specified, then all sources are included in the response. If specified, a source_type must also be specified."
  type        = list(string)
  default     = null

  validation {
    condition     = var.source_ids == null || var.source_type != null
    error_message = "resource_aws_db_event_subscription, source_ids requires source_type to be specified."
  }
}

variable "source_type" {
  description = "The type of source that will be generating the events. Valid options are db-instance, db-security-group, db-parameter-group, db-snapshot, db-cluster, db-cluster-snapshot, or db-proxy. If not set, all sources will be subscribed to."
  type        = string
  default     = null

  validation {
    condition = var.source_type == null || contains([
      "db-instance",
      "db-security-group",
      "db-parameter-group",
      "db-snapshot",
      "db-cluster",
      "db-cluster-snapshot",
      "db-proxy"
    ], var.source_type)
    error_message = "resource_aws_db_event_subscription, source_type must be one of: db-instance, db-security-group, db-parameter-group, db-snapshot, db-cluster, db-cluster-snapshot, or db-proxy."
  }
}

variable "event_categories" {
  description = "A list of event categories for a SourceType that you want to subscribe to."
  type        = list(string)
  default     = null
}

variable "enabled" {
  description = "A boolean flag to enable/disable the subscription. Defaults to true."
  type        = bool
  default     = true
}

variable "tags" {
  description = "A map of tags to assign to the resource."
  type        = map(string)
  default     = {}
}