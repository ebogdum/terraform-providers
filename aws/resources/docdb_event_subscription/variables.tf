variable "region" {
  description = "Region where this resource will be managed. Defaults to the Region set in the provider configuration."
  type        = string
  default     = null
}

variable "name" {
  description = "The name of the DocumentDB event subscription. By default generated by Terraform."
  type        = string
  default     = null

  validation {
    condition     = var.name == null || var.name_prefix == null
    error_message = "resource_aws_docdb_event_subscription, name: Conflicts with name_prefix. Only one of name or name_prefix can be specified."
  }
}

variable "name_prefix" {
  description = "The name of the DocumentDB event subscription. Conflicts with name."
  type        = string
  default     = null
}

variable "sns_topic" {
  description = "The SNS topic to send events to."
  type        = string
}

variable "source_ids" {
  description = "A list of identifiers of the event sources for which events will be returned. If not specified, then all sources are included in the response. If specified, a source_type must also be specified."
  type        = list(string)
  default     = null

  validation {
    condition     = var.source_ids == null || var.source_type != null
    error_message = "resource_aws_docdb_event_subscription, source_ids: If source_ids is specified, source_type must also be specified."
  }
}

variable "source_type" {
  description = "The type of source that will be generating the events. Valid options are db-instance, db-cluster, db-parameter-group, db-security-group, db-cluster-snapshot. If not set, all sources will be subscribed to."
  type        = string
  default     = null

  validation {
    condition = var.source_type == null || contains([
      "db-instance",
      "db-cluster",
      "db-parameter-group",
      "db-security-group",
      "db-cluster-snapshot"
    ], var.source_type)
    error_message = "resource_aws_docdb_event_subscription, source_type: Must be one of: db-instance, db-cluster, db-parameter-group, db-security-group, db-cluster-snapshot."
  }
}

variable "event_categories" {
  description = "A list of event categories for a SourceType that you want to subscribe to."
  type        = list(string)
  default     = null
}

variable "enabled" {
  description = "A boolean flag to enable/disable the subscription. Defaults to true."
  type        = bool
  default     = true
}

variable "tags" {
  description = "A map of tags to assign to the resource."
  type        = map(string)
  default     = {}
}

variable "timeouts_create" {
  description = "Timeout for create operations"
  type        = string
  default     = "40m"
}

variable "timeouts_delete" {
  description = "Timeout for delete operations"
  type        = string
  default     = "40m"
}

variable "timeouts_update" {
  description = "Timeout for update operations"
  type        = string
  default     = "40m"
}