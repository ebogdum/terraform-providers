variable "region" {
  description = "Region where this resource will be managed. Defaults to the Region set in the provider configuration."
  type        = string
  default     = null
}

variable "profile_name" {
  description = "Name of the signing profile to add the cross-account permissions."
  type        = string

  validation {
    condition     = length(var.profile_name) > 0
    error_message = "resource_aws_signer_signing_profile_permission, profile_name must be a non-empty string."
  }
}

variable "action" {
  description = "An AWS Signer action permitted as part of cross-account permissions."
  type        = string

  validation {
    condition = contains([
      "signer:StartSigningJob",
      "signer:GetSigningProfile",
      "signer:RevokeSignature",
      "signer:SignPayload"
    ], var.action)
    error_message = "resource_aws_signer_signing_profile_permission, action must be one of: signer:StartSigningJob, signer:GetSigningProfile, signer:RevokeSignature, or signer:SignPayload."
  }
}

variable "principal" {
  description = "The AWS principal to be granted a cross-account permission."
  type        = string

  validation {
    condition     = length(var.principal) > 0
    error_message = "resource_aws_signer_signing_profile_permission, principal must be a non-empty string."
  }
}

variable "profile_version" {
  description = "The signing profile version that a permission applies to."
  type        = string
  default     = null
}

variable "statement_id" {
  description = "A unique statement identifier. By default generated by Terraform."
  type        = string
  default     = null
}

variable "statement_id_prefix" {
  description = "A statement identifier prefix. Terraform will generate a unique suffix. Conflicts with statement_id."
  type        = string
  default     = null

  validation {
    condition     = var.statement_id_prefix == null || var.statement_id == null
    error_message = "resource_aws_signer_signing_profile_permission, statement_id_prefix conflicts with statement_id. Only one can be specified."
  }
}